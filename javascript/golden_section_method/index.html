<p> Метод золотого сечения — метод поиска экстремума действительной функции одной переменной на заданном отрезке. В основе метода лежит принцип деления отрезка в пропорциях золотого сечения. Является одним из простейших вычислительных методов решения задач оптимизации. Впервые представлен Джеком Кифером в 1953 году. </p>


<script>

let auto = confirm("Хотите ввести свою функцию и значения?");	
let a, b, eps, fn;

if (!auto) {

	// ввод автоматический
	a = 1;
	b = 2;
	eps = 0.01;
	fn = "x - 2*pow(x, 2)+ (1/5)*pow(x, 5)";

} else {

	// пользовательский ввод
	a = Number(prompt("Введите a: ")) || 0;
	b = Number(prompt("Введите b: ")) || 0;
	eps = Number(prompt("Введите eps: ")) || 0;
	fn = prompt("Введите свою математическую функцию F(x): ") || "";
}

let c = 0.618*a + 0.382*b;
let	d = 0.382*a + 0.618*b;

function f (x) {
	
	let res = 0;
	with(Math){
		res = eval(fn);
	}
	
	return res;
}

let h = (1/2) * (b - a);

document.write(` 
	Заданная точность: <b>eps</b> = ${eps} <br>
`)

if (!auto) {
	document.write(`F(x) = x - 2*x<sup>2</sup> + (1/5)*x<sup>5</sup> [${a}, ${b}]<br> <br>`);
} else {
	document.write(`F(x) = ${fn}, [${a}, ${b}] <br> <br>`);
}

while (h >= eps) {

	document.write(` 
		a = ` + a.toFixed(3) + `, b = ` + b.toFixed(3) + `, c = ` + c.toFixed(3) + `, d = ` + d.toFixed(3) + `, f(c) = ` + (f(c, true)).toFixed(3) + `, f(d) = ` + (f(d, true)).toFixed(3) + `, знак = ` + (f(c) >= f(d) ? '>' : '<') + `, h = ` + h.toFixed(3) + ` <br>
	`);

	if (f(c) >= f(d)) {
		
		a = c;
		b = b;
		c = d;
		d = 0.382*a + 0.618*b;

	} else {

		a = a;
		b = d;
		d = c;
		c = 0.618*a + 0.382*b;

	}

	h = (1/2) * (b - a);

}

let x = (c + d)/2;

document.write('x = (c+d)/2 = ' + x.toFixed(3) + '<br>');
document.write('f(x) = ' + f(x).toFixed(3) + '<br>');

</script>